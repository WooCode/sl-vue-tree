{"version":3,"sources":["webpack://SlVueTree/webpack/universalModuleDefinition","webpack://SlVueTree/webpack/bootstrap","webpack://SlVueTree/./node_modules/lodash/isObject.js","webpack://SlVueTree/./node_modules/lodash/throttle.js","webpack://SlVueTree/./node_modules/lodash/_root.js","webpack://SlVueTree/./node_modules/lodash/_Symbol.js","webpack://SlVueTree/./node_modules/lodash/debounce.js","webpack://SlVueTree/./node_modules/lodash/now.js","webpack://SlVueTree/./node_modules/lodash/_freeGlobal.js","webpack://SlVueTree/(webpack)/buildin/global.js","webpack://SlVueTree/./node_modules/lodash/toNumber.js","webpack://SlVueTree/./node_modules/lodash/_baseTrim.js","webpack://SlVueTree/./node_modules/lodash/_trimmedEndIndex.js","webpack://SlVueTree/./node_modules/lodash/isSymbol.js","webpack://SlVueTree/./node_modules/lodash/_baseGetTag.js","webpack://SlVueTree/./node_modules/lodash/_getRawTag.js","webpack://SlVueTree/./node_modules/lodash/_objectToString.js","webpack://SlVueTree/./node_modules/lodash/isObjectLike.js","webpack://SlVueTree/./src/sl-vue-tree.js","webpack://SlVueTree/./src/sl-vue-tree.vue?2ddf","webpack://SlVueTree/./src/sl-vue-tree.vue","webpack://SlVueTree/./node_modules/vue-loader/lib/runtime/component-normalizer.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","type","debounce","isObject","func","wait","options","leading","trailing","TypeError","freeGlobal","freeSelf","self","Function","now","toNumber","nativeMax","Math","max","nativeMin","min","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","maxing","invokeFunc","time","args","thisArg","undefined","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","arguments","this","clearTimeout","cancel","flush","Date","global","g","e","baseTrim","isSymbol","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","isBinary","test","slice","trimmedEndIndex","reTrimStart","string","replace","reWhitespace","index","length","charAt","baseGetTag","isObjectLike","getRawTag","objectToString","symToStringTag","objectProto","nativeObjectToString","toString","isOwn","tag","unmasked","props","Array","default","edgeSize","Number","showBranches","Boolean","level","parentInd","allowMultiselect","allowToggleBranch","allowExternalDrag","multiselectKey","String","validator","allowedKeys","multiselectKeys","isArray","filter","keyName","indexOf","scrollAreaHeight","maxScrollSpeed","data","rootCursorPosition","scrollIntervalId","scrollSpeed","lastSelectedNode","mouseIsDown","isDragging","lastMousePos","x","y","preventDrag","currentValue","mounted","isRoot","document","addEventListener","onDocumentMouseupHandler","beforeDestroy","removeEventListener","watch","newValue","computed","cursorPosition","getParent","depth","gaps","nodes","nodeModels","copy","getNodes","children","push","selectionSize","getSelected","dragSize","getDraggable","methods","setCursorPosition","pos","parentPath","isVisible","map","nodeModel","ind","nodePath","concat","getNode","path","siblings","getNodeSiblings","isExpanded","isDraggable","isSelectable","node","title","isLeaf","isSelected","pathStr","JSON","stringify","isFirstChild","isLastChild","emitInput","getRoot","$emit","emitSelect","selectedNodes","event","emitBeforeDrop","draggingNodes","position","emitDrop","emitToggle","toggledNode","emitNodeClick","emitNodeDblclick","emitNodeContextmenu","onExternalDragoverHandlerThrottled","throttle","onExternalDragoverHandler","preventDefault","getCursorPositionFromCoords","clientX","clientY","onExternalDropHandler","select","addToSelection","multiselectKeyIsPressed","find","selectedNode","newNodes","shiftSelectionMode","shiftKey","shiftSelectionStarted","traverse","onMousemoveHandlerThrottled","onMousemoveHandler","initialDraggingState","isDragStarted","$root","$el","rootRect","getBoundingClientRect","$dragInfo","$refs","dragInfo","dragInfoTop","top","scrollTop","style","marginBottom","dragInfoLeft","left","destNode","placement","scrollBottomLine","bottom","scrollDownSpeed","scrollTopLine","scrollTopSpeed","startScroll","stopScroll","$target","elementFromPoint","$nodeItem","getAttribute","getClosetElementWithPath","parse","nodeHeight","offsetHeight","offsetY","height","getLastNode","getFirstNode","parentElement","onMouseleaveHandler","getNodeEl","querySelector","lastNode","getNextNode","resultNode","comparePaths","getPrevNode","prevNodes","path1","path2","onNodeMousedownHandler","button","speed","setInterval","clearInterval","onNodeMouseupHandler","targetNode","draggingNode","stopDrag","checkNodeIsParent","nodeModelsSubjectToInsert","sourceSiblings","draggingNodeModel","cancelled","nodeModelsToInsert","insertModels","traverseModels","_markToDelete","splice","onToggleHandler","updateNode","stopPropagation","$parent","patch","assign","cb","shouldStop","nodeInd","itemPath","remove","paths","pathsStr","destSiblings","destNodeModel","unshift","insertInd","insert","sourceNode","destPath","entity","render","_vm","_h","$createElement","_c","_self","staticClass","class","on","mousemove","mouseleave","dragend","$event","onDragendHandler","ref","_l","visibility","dragover","_v","attrs","mousedown","mouseup","contextmenu","dblclick","click","drop","gapInd","_t","_e","_s","fromCharCode","scopedSlots","_u","fn","directives","rawName","expression","_withStripped","Component","scriptExports","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","normalizeComponent","__file"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAmB,UAAID,IAEvBD,EAAgB,UAAIC,IARtB,CASGK,QAAQ,WACX,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,I,gBCpDrDtC,EAAOD,QALP,SAAkByB,GAChB,IAAIe,SAAcf,EAClB,OAAgB,MAATA,IAA0B,UAARe,GAA4B,YAARA,K,gBC3B/C,IAAIC,EAAW,EAAQ,GACnBC,EAAW,EAAQ,GAmEvBzC,EAAOD,QAlBP,SAAkB2C,EAAMC,EAAMC,GAC5B,IAAIC,GAAU,EACVC,GAAW,EAEf,GAAmB,mBAARJ,EACT,MAAM,IAAIK,UAnDQ,uBAyDpB,OAJIN,EAASG,KACXC,EAAU,YAAaD,IAAYA,EAAQC,QAAUA,EACrDC,EAAW,aAAcF,IAAYA,EAAQE,SAAWA,GAEnDN,EAASE,EAAMC,EAAM,CAC1B,QAAWE,EACX,QAAWF,EACX,SAAYG,M,gBChEhB,IAAIE,EAAa,EAAQ,GAGrBC,EAA0B,iBAARC,MAAoBA,MAAQA,KAAKjC,SAAWA,QAAUiC,KAGxErD,EAAOmD,GAAcC,GAAYE,SAAS,cAATA,GAErCnD,EAAOD,QAAUF,G,gBCRjB,IAGIyB,EAHO,EAAQ,GAGDA,OAElBtB,EAAOD,QAAUuB,G,gBCLjB,IAAImB,EAAW,EAAQ,GACnBW,EAAM,EAAQ,GACdC,EAAW,EAAQ,GAMnBC,EAAYC,KAAKC,IACjBC,EAAYF,KAAKG,IAqLrB1D,EAAOD,QA7HP,SAAkB2C,EAAMC,EAAMC,GAC5B,IAAIe,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAiB,EACjBpB,GAAU,EACVqB,GAAS,EACTpB,GAAW,EAEf,GAAmB,mBAARJ,EACT,MAAM,IAAIK,UAzEQ,uBAmFpB,SAASoB,EAAWC,GAClB,IAAIC,EAAOV,EACPW,EAAUV,EAKd,OAHAD,EAAWC,OAAWW,EACtBN,EAAiBG,EACjBN,EAASpB,EAAK8B,MAAMF,EAASD,GAI/B,SAASI,EAAYL,GAMnB,OAJAH,EAAiBG,EAEjBL,EAAUW,WAAWC,EAAchC,GAE5BE,EAAUsB,EAAWC,GAAQN,EAatC,SAASc,EAAaR,GACpB,IAAIS,EAAoBT,EAAOJ,EAM/B,YAAyBO,IAAjBP,GAA+Ba,GAAqBlC,GACzDkC,EAAoB,GAAOX,GANJE,EAAOH,GAM8BJ,EAGjE,SAASc,IACP,IAAIP,EAAOhB,IACX,GAAIwB,EAAaR,GACf,OAAOU,EAAaV,GAGtBL,EAAUW,WAAWC,EA3BvB,SAAuBP,GACrB,IAEIW,EAAcpC,GAFMyB,EAAOJ,GAI/B,OAAOE,EACHT,EAAUsB,EAAalB,GAJDO,EAAOH,IAK7Bc,EAoB+BC,CAAcZ,IAGnD,SAASU,EAAaV,GAKpB,OAJAL,OAAUQ,EAINzB,GAAYa,EACPQ,EAAWC,IAEpBT,EAAWC,OAAWW,EACfT,GAeT,SAASmB,IACP,IAAIb,EAAOhB,IACP8B,EAAaN,EAAaR,GAM9B,GAJAT,EAAWwB,UACXvB,EAAWwB,KACXpB,EAAeI,EAEXc,EAAY,CACd,QAAgBX,IAAZR,EACF,OAAOU,EAAYT,GAErB,GAAIE,EAIF,OAFAmB,aAAatB,GACbA,EAAUW,WAAWC,EAAchC,GAC5BwB,EAAWH,GAMtB,YAHgBO,IAAZR,IACFA,EAAUW,WAAWC,EAAchC,IAE9BmB,EAIT,OA3GAnB,EAAOU,EAASV,IAAS,EACrBF,EAASG,KACXC,IAAYD,EAAQC,QAEpBgB,GADAK,EAAS,YAAatB,GACHU,EAAUD,EAAST,EAAQiB,UAAY,EAAGlB,GAAQkB,EACrEf,EAAW,aAAcF,IAAYA,EAAQE,SAAWA,GAoG1DmC,EAAUK,OApCV,gBACkBf,IAAZR,GACFsB,aAAatB,GAEfE,EAAiB,EACjBN,EAAWK,EAAeJ,EAAWG,OAAUQ,GAgCjDU,EAAUM,MA7BV,WACE,YAAmBhB,IAAZR,EAAwBD,EAASgB,EAAa1B,MA6BhD6B,I,gBC3LT,IAAIpF,EAAO,EAAQ,GAsBnBG,EAAOD,QAJG,WACR,OAAOF,EAAK2F,KAAKpC,Q,iBCnBnB,YACA,IAAIJ,EAA8B,iBAAVyC,GAAsBA,GAAUA,EAAOxE,SAAWA,QAAUwE,EAEpFzF,EAAOD,QAAUiD,I,+BCHjB,IAAI0C,EAGJA,EAAI,WACH,OAAON,KADJ,GAIJ,IAECM,EAAIA,GAAK,IAAIvC,SAAS,cAAb,GACR,MAAOwC,GAEc,iBAAXxF,SAAqBuF,EAAIvF,QAOrCH,EAAOD,QAAU2F,G,gBCnBjB,IAAIE,EAAW,EAAQ,GACnBnD,EAAW,EAAQ,GACnBoD,EAAW,EAAQ,IAMnBC,EAAa,qBAGbC,EAAa,aAGbC,EAAY,cAGZC,EAAeC,SA8CnBlG,EAAOD,QArBP,SAAkByB,GAChB,GAAoB,iBAATA,EACT,OAAOA,EAET,GAAIqE,EAASrE,GACX,OA1CM,IA4CR,GAAIiB,EAASjB,GAAQ,CACnB,IAAI2E,EAAgC,mBAAjB3E,EAAM4E,QAAwB5E,EAAM4E,UAAY5E,EACnEA,EAAQiB,EAAS0D,GAAUA,EAAQ,GAAMA,EAE3C,GAAoB,iBAAT3E,EACT,OAAiB,IAAVA,EAAcA,GAASA,EAEhCA,EAAQoE,EAASpE,GACjB,IAAI6E,EAAWN,EAAWO,KAAK9E,GAC/B,OAAQ6E,GAAYL,EAAUM,KAAK9E,GAC/ByE,EAAazE,EAAM+E,MAAM,GAAIF,EAAW,EAAI,GAC3CP,EAAWQ,KAAK9E,GAvDb,KAuD6BA,I,gBC5DvC,IAAIgF,EAAkB,EAAQ,IAG1BC,EAAc,OAelBzG,EAAOD,QANP,SAAkB2G,GAChB,OAAOA,EACHA,EAAOH,MAAM,EAAGC,EAAgBE,GAAU,GAAGC,QAAQF,EAAa,IAClEC,I,cCdN,IAAIE,EAAe,KAiBnB5G,EAAOD,QAPP,SAAyB2G,GAGvB,IAFA,IAAIG,EAAQH,EAAOI,OAEZD,KAAWD,EAAaN,KAAKI,EAAOK,OAAOF,MAClD,OAAOA,I,gBCfT,IAAIG,EAAa,EAAQ,IACrBC,EAAe,EAAQ,IA2B3BjH,EAAOD,QALP,SAAkByB,GAChB,MAAuB,iBAATA,GACXyF,EAAazF,IArBF,mBAqBYwF,EAAWxF,K,gBCzBvC,IAAIF,EAAS,EAAQ,GACjB4F,EAAY,EAAQ,IACpBC,EAAiB,EAAQ,IAOzBC,EAAiB9F,EAASA,EAAOC,iBAAcgD,EAkBnDvE,EAAOD,QATP,SAAoByB,GAClB,OAAa,MAATA,OACe+C,IAAV/C,EAdQ,qBADL,gBAiBJ4F,GAAkBA,KAAkBnG,OAAOO,GAC/C0F,EAAU1F,GACV2F,EAAe3F,K,gBCxBrB,IAAIF,EAAS,EAAQ,GAGjB+F,EAAcpG,OAAOkB,UAGrBC,EAAiBiF,EAAYjF,eAO7BkF,EAAuBD,EAAYE,SAGnCH,EAAiB9F,EAASA,EAAOC,iBAAcgD,EA6BnDvE,EAAOD,QApBP,SAAmByB,GACjB,IAAIgG,EAAQpF,EAAe1B,KAAKc,EAAO4F,GACnCK,EAAMjG,EAAM4F,GAEhB,IACE5F,EAAM4F,QAAkB7C,EACxB,IAAImD,GAAW,EACf,MAAO/B,IAET,IAAI7B,EAASwD,EAAqB5G,KAAKc,GAQvC,OAPIkG,IACEF,EACFhG,EAAM4F,GAAkBK,SAEjBjG,EAAM4F,IAGVtD,I,cCzCT,IAOIwD,EAPcrG,OAAOkB,UAOcoF,SAavCvH,EAAOD,QAJP,SAAwByB,GACtB,OAAO8F,EAAqB5G,KAAKc,K,cCUnCxB,EAAOD,QAJP,SAAsByB,GACpB,OAAgB,MAATA,GAAiC,iBAATA,I,6YCvBlB,OACbV,KAAM,cACN6G,MAAO,CACLnG,MAAO,CACLe,KAAMqF,MACNC,QAAS,iBAAM,KAEjBC,SAAU,CACRvF,KAAMwF,OACNF,QAAS,GAEXG,aAAc,CACZzF,KAAM0F,QACNJ,SAAS,GAEXK,MAAO,CACL3F,KAAMwF,OACNF,QAAS,GAEXM,UAAW,CACT5F,KAAMwF,QAERK,iBAAkB,CAChB7F,KAAM0F,QACNJ,SAAS,GAEXQ,kBAAmB,CACjB9F,KAAM0F,QACNJ,SAAS,GAEXS,kBAAmB,CACjB/F,KAAM0F,QACNJ,SAAS,GAEXU,eAAgB,CACdhG,KAAM,CAACiG,OAAQZ,OACfC,QAAS,WACP,MAAO,CAAC,UAAW,YAErBY,UAAW,SAASjH,GAClB,IAAIkH,EAAc,CAAC,UAAW,UAAW,UACrCC,EAAkBf,MAAMgB,QAAQpH,GAASA,EAAQ,CAACA,GAItD,SAHAmH,EAAkBA,EAAgBE,QAChC,SAACC,GAAD,OAA+C,IAAlCJ,EAAYK,QAAQD,OAEVhC,SAG7BkC,iBAAkB,CAChBzG,KAAMwF,OACNF,QAAS,IAEXoB,eAAgB,CACd1G,KAAMwF,OACNF,QAAS,KAIbqB,KA1Da,WA2DX,MAAO,CACLC,mBAAoB,KACpBC,iBAAkB,EAClBC,YAAa,EACbC,iBAAkB,KAClBC,aAAa,EACbC,YAAY,EACZC,aAAc,CAAEC,EAAG,EAAGC,EAAG,GACzBC,aAAa,EACbC,aAAczE,KAAK5D,QAIvBsI,QAxEa,WAyEP1E,KAAK2E,QACPC,SAASC,iBAAiB,UAAW7E,KAAK8E,2BAI9CC,cA9Ea,WA+EXH,SAASI,oBAAoB,UAAWhF,KAAK8E,2BAG/CG,MAAO,CACL7I,MAAO,SAAS8I,GACdlF,KAAKyE,aAAeS,IAIxBC,SAAU,CACRC,eADQ,WAEN,OAAIpF,KAAK2E,OAAe3E,KAAK+D,mBACtB/D,KAAKqF,YAAYD,gBAG1BE,MANQ,WAON,OAAOtF,KAAKuF,KAAK7D,QAGnB8D,MAVQ,WAWN,GAAIxF,KAAK2E,OAAQ,CACf,IAAMc,EAAazF,KAAK0F,KAAK1F,KAAKyE,cAClC,OAAOzE,KAAK2F,SAASF,GAGvB,OAAOzF,KAAKqF,YAAYG,MAAMxF,KAAK+C,WAAW6C,UAMhDL,KAtBQ,WAuBN,IAAMA,EAAO,GACTpK,EAAI6E,KAAK8C,MAAQ,EAErB,IADK9C,KAAK4C,cAAczH,IACjBA,KAAM,GAAGoK,EAAKM,KAAK1K,GAC1B,OAAOoK,GAGTZ,OA9BQ,WA+BN,OAAQ3E,KAAK8C,OAGfgD,cAlCQ,WAmCN,OAAO9F,KAAK+F,cAAcrE,QAG5BsE,SAtCQ,WAuCN,OAAOhG,KAAKiG,eAAevE,SAG/BwE,QAAS,CACPC,kBADO,SACWC,GACZpG,KAAK2E,OACP3E,KAAK+D,mBAAqBqC,EAG5BpG,KAAKqF,YAAYc,kBAAkBC,IAGrCT,SATO,SASEF,GAA+C,WAAnCY,EAAmC,uDAAtB,GAAIC,IAAkB,yDACtD,OAAOb,EAAWc,KAAI,SAACC,EAAWC,GAChC,IAAMC,EAAWL,EAAWM,OAAOF,GACnC,OAAO,EAAKG,QAAQF,EAAUF,EAAWf,EAAYa,OAIzDM,QAhBO,SAgBCC,GAA2D,IAArDL,EAAqD,uDAAzC,KAAMM,EAAmC,uDAAxB,KAAMR,EAAkB,uDAAN,KACrDG,EAAMI,EAAK1F,OAAO,GAAG,GAU3B,GAPA2F,EAAWA,GAAY9G,KAAK+G,gBAAgB/G,KAAKyE,aAAcoC,GAC/DL,EAAYA,GAAcM,GAAYA,EAASL,IAAS,KAEvC,MAAbH,IACFA,EAAYtG,KAAKsG,UAAUO,KAGxBL,EAAW,OAAO,KAEvB,IAAMQ,EACoB,MAAxBR,EAAUQ,cAAgCR,EAAUQ,WAChDC,EACqB,MAAzBT,EAAUS,eAAiCT,EAAUS,YACjDC,EACsB,MAA1BV,EAAUU,gBAAkCV,EAAUU,aAElDC,EAAO,CAEXC,MAAOZ,EAAUY,MACjBC,SAAUb,EAAUa,OACpBzB,SAAUY,EAAUZ,SAChB5F,KAAK2F,SAASa,EAAUZ,SAAUiB,EAAMG,GACxC,GACJM,aAAcd,EAAUc,WACxBN,aACAV,YACAW,cACAC,eACApD,UAAyB,IAAnB0C,EAAU1C,KAAkB0C,EAAU1C,KAAO,GAGnD+C,KAAMA,EACNU,QAASC,KAAKC,UAAUZ,GACxB/D,MAAO+D,EAAKnF,OACZ+E,MACAiB,aAAqB,GAAPjB,EACdkB,YAAalB,IAAQK,EAASpF,OAAS,GAEzC,OAAOyF,GAGTb,UA7DO,SA6DGO,GACR,GAAIA,EAAKnF,OAAS,EAAG,OAAO,EAG5B,IAFA,IAAI+D,EAAazF,KAAKyE,aAEbtJ,EAAI,EAAGA,EAAI0L,EAAKnF,OAAS,EAAGvG,IAAK,CACxC,IACIqL,EAAYf,EADNoB,EAAK1L,IAIf,KAD0B,MAAxBqL,EAAUQ,cAAgCR,EAAUQ,YACrC,OAAO,EACxBvB,EAAae,EAAUZ,SAGzB,OAAO,GAGTgC,UA7EO,SA6EG1C,GACRlF,KAAKyE,aAAeS,EACpBlF,KAAK6H,UAAUC,MAAM,QAAS5C,IAGhC6C,WAlFO,SAkFIC,EAAeC,GACxBjI,KAAK6H,UAAUC,MAAM,SAAUE,EAAeC,IAGhDC,eAtFO,SAsFQC,EAAeC,EAAUlI,GACtCF,KAAK6H,UAAUC,MAAM,aAAcK,EAAeC,EAAUlI,IAG9DmI,SA1FO,SA0FEF,EAAeC,EAAUH,GAChCjI,KAAK6H,UAAUC,MAAM,OAAQK,EAAeC,EAAUH,IAGxDK,WA9FO,SA8FIC,EAAaN,GACtBjI,KAAK6H,UAAUC,MAAM,SAAUS,EAAaN,IAG9CO,cAlGO,SAkGOrB,EAAMc,GAClBjI,KAAK6H,UAAUC,MAAM,YAAaX,EAAMc,IAG1CQ,iBAtGO,SAsGUtB,EAAMc,GACrBjI,KAAK6H,UAAUC,MAAM,eAAgBX,EAAMc,IAG7CS,oBA1GO,SA0GavB,EAAMc,GACxBjI,KAAK6H,UAAUC,MAAM,kBAAmBX,EAAMc,IAGhDU,mCAAoCC,KAAS,SAASzB,EAAMc,GAC1DjI,KAAK6I,0BAA0B1B,EAAMc,KACpC,IAEHY,0BAlHO,SAkHmB1B,EAAMc,GAC9BA,EAAMa,iBACN,IAAMrO,EAAOuF,KAAK6H,UAClB,GAAKpN,EAAKyI,kBAAV,CAGA,IAAMkC,EAAiB3K,EAAKsO,4BAC1Bd,EAAMe,QACNf,EAAMgB,SAERxO,EAAK0L,kBAAkBf,GACvB3K,EAAKqN,MAAM,mBAAoB1C,EAAgB6C,KAGjDiB,sBAhIO,SAgIe/B,EAAMc,GAC1B,IAAMxN,EAAOuF,KAAK6H,UACZzC,EAAiB3K,EAAKsO,4BAC1Bd,EAAMe,QACNf,EAAMgB,SAERxO,EAAKqN,MAAM,eAAgB1C,EAAgB6C,GAC3CjI,KAAKmG,kBAAkB,OAGzBgD,OA1IO,SA0IAtC,GAA4C,WAAtCuC,EAAsC,wDAAdnB,EAAc,uDAAN,KACrC1E,EAAkBf,MAAMgB,QAAQxD,KAAKmD,gBACvCnD,KAAKmD,eACL,CAACnD,KAAKmD,gBACJkG,EACJpB,KAAW1E,EAAgB+F,MAAK,SAAC5M,GAAD,OAASuL,EAAMvL,MACjD0M,GACGC,GAA2BD,IAAmBpJ,KAAKgD,iBAEtD,IAAMuG,EAAevJ,KAAK4G,QAAQC,GAClC,IAAK0C,EAAc,OAAO,KAC1B,IAAMC,EAAWxJ,KAAK0F,KAAK1F,KAAKyE,cAC1BgF,EACJzJ,KAAKgD,kBACLiF,GACAA,EAAMyB,UACN1J,KAAKkE,iBACD8D,EAAgB,GAClB2B,GAAwB,EAwB5B,OAtBA3J,KAAK4J,UAAS,SAACzC,EAAMX,GACfiD,GAEAtC,EAAKI,UAAYgC,EAAahC,SAC9BJ,EAAKI,UAAY,EAAKrD,iBAAiBqD,UAEvCf,EAAUc,WAAaH,EAAKD,aAC5ByC,GAAyBA,GAEvBA,IAAuBnD,EAAUc,WAAaH,EAAKD,eAC9CC,EAAKI,UAAYgC,EAAahC,QACvCf,EAAUc,WAAaH,EAAKD,aAClBkC,GACN5C,EAAUc,aAAYd,EAAUc,YAAa,GAG/Cd,EAAUc,YAAYU,EAAcnC,KAAKsB,KAC5CqC,GAEHxJ,KAAKkE,iBAAmBqF,EACxBvJ,KAAK4H,UAAU4B,GACfxJ,KAAK+H,WAAWC,EAAeC,GACxBsB,GAGTM,4BAA6BjB,KAAS,SAASX,GAC7CjI,KAAK8J,mBAAmB7B,KACvB,IAEH6B,mBA3LO,SA2LY7B,GACjB,GAAKjI,KAAK2E,QAKV,IAAI3E,KAAKwE,YAAT,CAEA,IAAMuF,EAAuB/J,KAAKoE,WAC5BA,EACJpE,KAAKoE,YACJpE,KAAKmE,cACHnE,KAAKqE,aAAaC,IAAM2D,EAAMe,SAC7BhJ,KAAKqE,aAAaE,IAAM0D,EAAMgB,SAE9Be,GACqB,IAAzBD,IAAiD,IAAf3F,EAOpC,GALApE,KAAKqE,aAAe,CAClBC,EAAG2D,EAAMe,QACTzE,EAAG0D,EAAMgB,SAGN7E,EAAL,CAEA,IAAM6F,EAAQjK,KAAK6H,UAAUqC,IACvBC,EAAWF,EAAMG,wBACjBC,EAAYrK,KAAKsK,MAAMC,SACvBC,EACJvC,EAAMgB,QACNkB,EAASM,IACTR,EAAMS,WAC0B,EAA/BL,EAAUM,MAAMC,cACbC,EAAe5C,EAAMe,QAAUmB,EAASW,KAE9CT,EAAUM,MAAMF,IAAMD,EAAc,KACpCH,EAAUM,MAAMG,KAAOD,EAAe,KAEtC,IAAMzF,EAAiBpF,KAAK+I,4BAC1Bd,EAAMe,QACNf,EAAMgB,SAEF8B,EAAW3F,EAAe+B,KAC1B6D,EAAY5F,EAAe4F,UAOjC,GALIhB,IAAkBe,EAASzD,YAC7BtH,KAAKmJ,OAAO4B,EAASlE,MAAM,EAAOoB,GAGbjI,KAAKiG,eACRvE,OAApB,CAKA1B,KAAKoE,WAAaA,EAElBpE,KAAKmG,kBAAkB,CAAEgB,KAAM4D,EAAUC,cAEzC,IAAMC,EAAmBd,EAASe,OAASlL,KAAK4D,iBAC1CuH,GACHlD,EAAMgB,QAAUgC,IAChBd,EAASe,OAASD,GACfG,EAAgBjB,EAASM,IAAMzK,KAAK4D,iBACpCyH,GACHD,EAAgBnD,EAAMgB,UAAYmC,EAAgBjB,EAASM,KAE1DU,EAAkB,EACpBnL,KAAKsL,YAAYH,GACRE,EAAiB,EAC1BrL,KAAKsL,aAAaD,GAElBrL,KAAKuL,kBArBLvL,KAAKwE,aAAc,SAjDnBxE,KAAK6H,UAAUiC,mBAAmB7B,IA0EtCc,4BAvQO,SAuQqBzE,EAAGC,GAC7B,IAIIwG,EACAC,EALEQ,EAAU5G,SAAS6G,iBAAiBnH,EAAGC,GACvCmH,EAAYF,EAAQG,aAAa,QACnCH,EACAxL,KAAK4L,yBAAyBJ,GAIlC,GAAIE,EAAW,CACb,IAAKA,EAAW,OAEhBX,EAAW/K,KAAK4G,QAAQY,KAAKqE,MAAMH,EAAUC,aAAa,UAE1D,IAAMG,EAAaJ,EAAUK,aACvBrJ,EAAW1C,KAAK0C,SAChBsJ,EAAUzH,EAAImH,EAAUtB,wBAAwBK,IAGpDO,EADED,EAAS1D,OACC2E,GAAWF,EAAa,EAAI,QAAU,SAE9CE,GAAWtJ,EACD,SACHsJ,GAAWF,EAAapJ,EACrB,QAEA,aAGX,CACL,IACMyH,EADQnK,KAAK6H,UAAUqC,IACNE,wBACnB7F,EAAI4F,EAASM,IAAMN,EAAS8B,OAAS,GACvCjB,EAAY,QACZD,EAAW/K,KAAKkM,gBAEhBlB,EAAY,SACZD,EAAW/K,KAAKmM,gBAIpB,MAAO,CAAEhF,KAAM4D,EAAUC,cAG3BY,yBAlTO,SAkTkB1B,GACvB,OAAKA,EACDA,EAAIyB,aAAa,QAAgBzB,EAC9BlK,KAAK4L,yBAAyB1B,EAAIkC,eAFxB,MAKnBC,oBAxTO,SAwTapE,GAClB,GAAKjI,KAAK2E,QAAW3E,KAAKoE,WAA1B,CACA,IACM+F,EADQnK,KAAK6H,UAAUqC,IACNE,wBACnBnC,EAAMgB,SAAWkB,EAASe,OAC5BlL,KAAKmG,kBAAkB,CACrBgB,KAAMnH,KAAKwF,MAAMrE,OAAO,GAAG,GAC3B6J,UAAW,UAEJ/C,EAAMgB,QAAUkB,EAASM,KAClCzK,KAAKmG,kBAAkB,CACrBgB,KAAMnH,KAAKmM,eACXnB,UAAW,aAKjBsB,UAzUO,SAyUGzF,GACR7G,KAAK6H,UAAUqC,IAAIqC,cAAnB,iBAA2C/E,KAAKC,UAAUZ,GAA1D,QAGFqF,YA7UO,WA8UL,IAAIM,EAAW,KAIf,OAHAxM,KAAK4J,UAAS,SAACzC,GACbqF,EAAWrF,KAENqF,GAGTL,aArVO,WAsVL,OAAOnM,KAAK4G,QAAQ,CAAC,KAGvB6F,YAzVO,SAyVK5F,GAAqB,WAAfpD,EAAe,uDAAN,KACrBiJ,EAAa,KAWjB,OATA1M,KAAK4J,UAAS,SAACzC,GACb,KAAI,EAAKwF,aAAaxF,EAAKN,KAAMA,GAAQ,GAEzC,OAAKpD,GAAUA,EAAO0D,IACpBuF,EAAavF,GACN,QAFT,KAMKuF,GAGTE,YAxWO,SAwWK/F,EAAMpD,GAAQ,WACpBoJ,EAAY,GAEhB7M,KAAK4J,UAAS,SAACzC,GACb,GAAI,EAAKwF,aAAaxF,EAAKN,KAAMA,IAAS,EACxC,OAAO,EAETgG,EAAUhH,KAAKsB,MAIjB,IADA,IAAIhM,EAAI0R,EAAUnL,OACXvG,KAAK,CACV,IAAMgM,EAAO0F,EAAU1R,GACvB,IAAKsI,GAAUA,EAAO0D,GAAO,OAAOA,EAGtC,OAAO,MAiBTwF,aAzYO,SAyYMG,EAAOC,GAClB,IAAK,IAAI5R,EAAI,EAAGA,EAAI2R,EAAMpL,OAAQvG,IAAK,CACrC,GAAgB,MAAZ4R,EAAM5R,GAAc,OAAO,EAC/B,GAAI2R,EAAM3R,GAAK4R,EAAM5R,GAAI,OAAO,EAChC,GAAI2R,EAAM3R,GAAK4R,EAAM5R,GAAI,OAAQ,EAEnC,OAA8B,MAAvB4R,EAAMD,EAAMpL,QAAoB,GAAK,GAG9CsL,uBAlZO,SAkZgB/E,EAAOd,GAEP,IAAjBc,EAAMgF,SAELjN,KAAK2E,OAIV3E,KAAKmE,aAAc,EAHjBnE,KAAK6H,UAAUmF,uBAAuB/E,EAAOd,KAMjDmE,YA7ZO,SA6ZK4B,GAAO,WACXjD,EAAQjK,KAAK6H,UAAUqC,IACzBlK,KAAKiE,cAAgBiJ,IAEdlN,KAAKgE,kBACdhE,KAAKuL,aAGPvL,KAAKiE,YAAciJ,EACnBlN,KAAKgE,iBAAmBmJ,aAAY,WAClClD,EAAMS,WAAa,EAAK7G,eAAiBqJ,IACxC,MAGL3B,WA3aO,WA4aL6B,cAAcpN,KAAKgE,kBACnBhE,KAAKgE,iBAAmB,EACxBhE,KAAKiE,YAAc,GAGrBa,yBAjbO,SAibkBmD,GACnBjI,KAAKoE,YAAYpE,KAAKqN,qBAAqBpF,IAGjDoF,qBArbO,SAqbcpF,GAA0B,IAAnBqF,EAAmB,uDAAN,KAEvC,GAAqB,IAAjBrF,EAAMgF,OAEV,GAAKjN,KAAK2E,OAaV,GARA3E,KAAKmE,aAAc,EAEdnE,KAAKoE,aAAckJ,GAAetN,KAAKwE,aAC1CxE,KAAKmJ,OAAOmE,EAAWzG,MAAM,EAAOoB,GAGtCjI,KAAKwE,aAAc,EAEdxE,KAAKoF,eAAV,CAKA,IAAM+C,EAAgBnI,KAAKiG,eAtBkB,uBAyB7C,YAAyBkC,EAAzB,+CAAwC,KAA/BoF,EAA+B,QACtC,GAAIA,EAAahG,SAAWvH,KAAKoF,eAAe+B,KAAKI,QAEnD,YADAvH,KAAKwN,WAIP,GAAIxN,KAAKyN,kBAAkBF,EAAcvN,KAAKoF,eAAe+B,MAE3D,YADAnH,KAAKwN,YAhCoC,kFAqC7C,IAAMhE,EAAWxJ,KAAK0F,KAAK1F,KAAKyE,cAC1BiJ,EAA4B,GAtCW,uBAyC7C,YAAyBvF,EAAzB,+CAAwC,KAA/BoF,EAA+B,QAChCI,EAAiB3N,KAAK+G,gBAC1ByC,EACA+D,EAAa1G,MAET+G,EAAoBD,EAAeJ,EAAa9G,KACtDiH,EAA0B7H,KAAK+H,IA/CY,kFAmD7C,IAAIC,GAAY,EAOhB,GANA7N,KAAKkI,eACHC,EACAnI,KAAKoF,gBACL,kBAAOyI,GAAY,KAGjBA,EACF7N,KAAKwN,eADP,CAQA,IAHA,IAAMM,EAAqB,GAG3B,MAA8BJ,EAA9B,WAAyD,CAApD,IAAIE,EAAqBF,EAAJ,GACxBI,EAAmBjI,KAAK7F,KAAK0F,KAAKkI,IAClCA,EAAiB,eAAoB,EAIvC5N,KAAK+N,aAAa/N,KAAKoF,eAAgB0I,EAAoBtE,GAG3DxJ,KAAKgO,gBAAe,SAACxH,EAAWM,EAAUL,GACnCD,EAAUyH,eACfnH,EAASoH,OAAOzH,EAAK,KACpB+C,GAEHxJ,KAAKkE,iBAAmB,KACxBlE,KAAK4H,UAAU4B,GACfxJ,KAAKqI,SAASF,EAAenI,KAAKoF,eAAgB6C,GAClDjI,KAAKwN,iBAjEHxN,KAAKwN,gBAbLxN,KAAK6H,UAAUwF,qBAAqBpF,EAAOqF,IAiF/Ca,gBA3gBO,SA2gBSlG,EAAOd,GAChBnH,KAAKiD,oBAEVjD,KAAKoO,WAAWjH,EAAKN,KAAM,CAAEG,YAAaG,EAAKH,aAC/ChH,KAAKsI,WAAWnB,EAAMc,GACtBA,EAAMoG,oBAGRb,SAnhBO,WAohBLxN,KAAKoE,YAAa,EAClBpE,KAAKmE,aAAc,EACnBnE,KAAKmG,kBAAkB,MACvBnG,KAAKuL,cAGPlG,UA1hBO,WA2hBL,OAAOrF,KAAKsO,SAGdzG,QA9hBO,WA+hBL,OAAI7H,KAAK2E,OAAe3E,KACjBA,KAAKqF,YAAYwC,WAG1Bd,gBAniBO,SAmiBSvB,EAAOqB,GACrB,OAAoB,IAAhBA,EAAKnF,OAAqB8D,EACvBxF,KAAK+G,gBAAgBvB,EAAMqB,EAAK,IAAIjB,SAAUiB,EAAK1F,MAAM,KAGlEiN,WAxiBO,SAwiBIvH,EAAM0H,GACf,GAAKvO,KAAK2E,OAAV,CAKA,IAAM4C,EAAUC,KAAKC,UAAUZ,GACzB2C,EAAWxJ,KAAK0F,KAAK1F,KAAKyE,cAChCzE,KAAK4J,UAAS,SAACzC,EAAMX,GACfW,EAAKI,UAAYA,GACrB1L,OAAO2S,OAAOhI,EAAW+H,KACxB/E,GAEHxJ,KAAK4H,UAAU4B,QAXbxJ,KAAKqF,YAAY+I,WAAWvH,EAAM0H,IActCxI,YAxjBO,WAyjBL,IAAMiC,EAAgB,GAItB,OAHAhI,KAAK4J,UAAS,SAACzC,GACTA,EAAKG,YAAYU,EAAcnC,KAAKsB,MAEnCa,GAGT/B,aAhkBO,WAikBL,IAAM+B,EAAgB,GAItB,OAHAhI,KAAK4J,UAAS,SAACzC,GACTA,EAAKG,YAAcH,EAAKF,aAAae,EAAcnC,KAAKsB,MAEvDa,GAGT4B,SAxkBO,SAwkBE6E,GAAwC,IAApChJ,EAAoC,uDAAvB,KAAMY,EAAiB,uDAAJ,GACtCZ,IAAYA,EAAazF,KAAKyE,cAMnC,IAJA,IAAIiK,GAAa,EAEXlJ,EAAQ,GAELmJ,EAAU,EAAGA,EAAUlJ,EAAW/D,OAAQiN,IAAW,CAC5D,IAAMnI,EAAYf,EAAWkJ,GACvBC,EAAWvI,EAAWM,OAAOgI,GAC7BxH,EAAOnH,KAAK4G,QAAQgI,EAAUpI,EAAWf,GAI/C,GAHAiJ,GAAiD,IAApCD,EAAGtH,EAAMX,EAAWf,GACjCD,EAAMK,KAAKsB,GAEPuH,EAAY,MAEhB,GAAIlI,EAAUZ,WACZ8I,GACsD,IAApD1O,KAAK4J,SAAS6E,EAAIjI,EAAUZ,SAAUgJ,IACxB,MAIpB,OAAQF,GAAalJ,GAGvBwI,eAlmBO,SAkmBQS,EAAIhJ,GAEjB,IADA,IAAItK,EAAIsK,EAAW/D,OACZvG,KAAK,CACV,IAAMqL,EAAYf,EAAWtK,GACzBqL,EAAUZ,UAAU5F,KAAKgO,eAAeS,EAAIjI,EAAUZ,UAC1D6I,EAAGjI,EAAWf,EAAYtK,GAE5B,OAAOsK,GAGToJ,OA5mBO,SA4mBAC,GACL,IAAMC,EAAWD,EAAMvI,KAAI,SAACM,GAAD,OAAUW,KAAKC,UAAUZ,MAC9C2C,EAAWxJ,KAAK0F,KAAK1F,KAAKyE,cAChCzE,KAAK4J,UAAS,SAACzC,EAAMX,EAAWM,GAAa,2BAC3C,YAAsBiI,EAAtB,+CAAgC,KAArBxH,EAAqB,QAC1BJ,EAAKI,UAAYA,IAASf,EAAUyH,eAAgB,IAFf,qFAI1CzE,GAEHxJ,KAAKgO,gBAAe,SAACxH,EAAWM,EAAUL,GACnCD,EAAUyH,eACfnH,EAASoH,OAAOzH,EAAK,KACpB+C,GAEHxJ,KAAK4H,UAAU4B,IAGjBuE,aA7nBO,SA6nBM3I,EAAgBK,EAAY+D,GACvC,IAAMuB,EAAW3F,EAAe+B,KAC1B6H,EAAehP,KAAK+G,gBAAgByC,EAAUuB,EAASlE,MACvDoI,EAAgBD,EAAajE,EAAStE,KAE5C,GAAiC,WAA7BrB,EAAe4F,UAAwB,OACzCiE,EAAcrJ,SAAWqJ,EAAcrJ,UAAY,IACnD,EAAAqJ,EAAcrJ,UAASsJ,QAAvB,UAAkCzJ,QAC7B,CACL,IAAM0J,EACyB,WAA7B/J,EAAe4F,UACXD,EAAStE,IACTsE,EAAStE,IAAM,EAErBuI,EAAad,OAAb,MAAAc,EAAY,CAAQG,EAAW,GAAnB,SAAyB1J,OAIzC2J,OA/oBO,SA+oBAhK,EAAgBoB,GACrB,IAAMf,EAAajD,MAAMgB,QAAQgD,GAAaA,EAAY,CAACA,GACrDgD,EAAWxJ,KAAK0F,KAAK1F,KAAKyE,cAEhCzE,KAAK+N,aAAa3I,EAAgBK,EAAY+D,GAE9CxJ,KAAK4H,UAAU4B,IAGjBiE,kBAxpBO,SAwpBW4B,EAAYtE,GAC5B,IAAMuE,EAAWvE,EAASlE,KAC1B,OACEW,KAAKC,UAAU6H,EAASnO,MAAM,EAAGkO,EAAWxI,KAAKnF,UACjD2N,EAAW9H,SAIf7B,KAhqBO,SAgqBF6J,GACH,OAAO/H,KAAKqE,MAAMrE,KAAKC,UAAU8H,OCryBnCC,EAAS,WACX,IAAIC,EAAMzP,KACN0P,EAAKD,EAAIE,eACTC,EAAKH,EAAII,MAAMD,IAAMF,EACzB,OAAOE,EACL,MACA,CACEE,YAAa,cACbC,MAAO,CAAE,mBAAoBN,EAAI9K,QACjCqL,GAAI,CACFC,UAAWR,EAAI5F,4BACfqG,WAAYT,EAAIpD,oBAChB8D,QAAS,SAASC,GAChBX,EAAIY,iBAAiB,KAAMD,MAIjC,CACER,EACE,MACA,CAAEU,IAAK,QAASR,YAAa,0BAC7B,CACEL,EAAIc,GAAGd,EAAIjK,OAAO,SAAS2B,EAAMwH,GAC/B,OAAOiB,EACL,MACA,CACEE,YAAa,mBACbC,MAAO,CAAE,uBAAwB5I,EAAKG,aAExC,CACEsI,EAAG,MAAO,CACRE,YAAa,+CACbnF,MAAO,CACL6F,WACEf,EAAIrK,gBACJqK,EAAIrK,eAAe+B,KAAKI,UAAYJ,EAAKI,SACR,WAAjCkI,EAAIrK,eAAe4F,UACf,UACA,SACN,UAAWyE,EAAInK,OAEjB0K,GAAI,CACFS,SAAU,SAASL,GACjBA,EAAOtH,qBAIb2G,EAAIiB,GAAG,KACPd,EACE,MACA,CACEE,YAAa,wBACbC,MAAO,CACL,2BACEN,EAAIrK,gBACJqK,EAAIrK,eAAe+B,KAAKI,UAAYJ,EAAKI,QAE3C,4BACEkI,EAAIrK,gBAC6B,WAAjCqK,EAAIrK,eAAe4F,WACnByE,EAAIrK,eAAe+B,KAAKI,UAAYJ,EAAKI,QAC3C,2BAA4BJ,EAAKE,OACjC,8BAA+BF,EAAKE,QAEtCsJ,MAAO,CAAE9J,KAAMM,EAAKI,SACpByI,GAAI,CACFY,UAAW,SAASR,GAClBX,EAAIzC,uBAAuBoD,EAAQjJ,IAErC0J,QAAS,SAAST,GAChBX,EAAIpC,qBAAqB+C,EAAQjJ,IAEnC2J,YAAa,SAASV,GACpBX,EAAI/G,oBAAoBvB,EAAMiJ,IAEhCW,SAAU,SAASX,GACjBX,EAAIhH,iBAAiBtB,EAAMiJ,IAE7BY,MAAO,SAASZ,GACdX,EAAIjH,cAAcrB,EAAMiJ,IAE1BK,SAAU,SAASL,GACjBX,EAAI9G,mCAAmCxB,EAAMiJ,IAE/Ca,KAAM,SAASb,GACbX,EAAIvG,sBAAsB/B,EAAMiJ,MAItC,CACEX,EAAIc,GAAGd,EAAIlK,MAAM,SAAS2L,GACxB,OAAOtB,EAAG,MAAO,CAAEE,YAAa,uBAElCL,EAAIiB,GAAG,KACPjB,EAAI3M,OAAS2M,EAAI7M,aACbgN,EACE,MACA,CAAEE,YAAa,sBACf,CACEL,EAAI0B,GACF,SACA,CACGhK,EAAKQ,YASF8H,EAAI2B,KARJxB,EAAG,OAAQ,CACTH,EAAIiB,GACF,iBACEjB,EAAI4B,GAAGjO,OAAOkO,aAAa,OAC3B7B,EAAI4B,GAAGjO,OAAOkO,aAAa,OAC3B,mBAIV7B,EAAIiB,GAAG,KACPvJ,EAAKQ,YACDiI,EAAG,OAAQ,CACTH,EAAIiB,GACF,iBACEjB,EAAI4B,GAAGjO,OAAOkO,aAAa,OAC3B7B,EAAI4B,GAAGjO,OAAOkO,aAAa,OAC3B,mBAGN7B,EAAI2B,MAEV,CAAEjK,KAAMA,KAGZ,GAEFsI,EAAI2B,KACR3B,EAAIiB,GAAG,KACPd,EACE,MACA,CAAEE,YAAa,qBACf,CACG3I,EAAKE,OAkCFoI,EAAI2B,KAjCJxB,EACE,OACA,CACEE,YAAa,qBACbE,GAAI,CACFgB,MAAO,SAASZ,GACdX,EAAItB,gBAAgBiC,EAAQjJ,MAIlC,CACEsI,EAAI0B,GACF,SACA,CACEvB,EAAG,OAAQ,CACTH,EAAIiB,GACF,kBACEjB,EAAI4B,GACDlK,EAAKE,OAIF,GAHAF,EAAKH,WACH,IACA,KAGR,qBAIR,CAAEG,KAAMA,KAGZ,GAGNsI,EAAIiB,GAAG,KACPjB,EAAI0B,GAAG,QAAS,CAAC1B,EAAIiB,GAAGjB,EAAI4B,GAAGlK,EAAKC,SAAU,CAC5CD,KAAMA,IAERsI,EAAIiB,GAAG,MACNvJ,EAAKE,QACkB,GAAxBF,EAAKvB,SAASlE,QACdyF,EAAKH,WACDyI,EAAI0B,GAAG,aAAc,KAAM,CAAEhK,KAAMA,IACnCsI,EAAI2B,MAEV,GAEF3B,EAAIiB,GAAG,KACPd,EACE,MACA,CAAEE,YAAa,uBACf,CAACL,EAAI0B,GAAG,UAAW,KAAM,CAAEhK,KAAMA,KACjC,IAGJ,GAEFsI,EAAIiB,GAAG,KACPvJ,EAAKvB,UAAYuB,EAAKvB,SAASlE,QAAUyF,EAAKH,WAC1C4I,EAAG,cAAe,CAChBe,MAAO,CACLvU,MAAO+K,EAAKvB,SACZ9C,MAAOqE,EAAKrE,MACZC,UAAW4L,EACX3L,iBAAkByM,EAAIzM,iBACtBC,kBAAmBwM,EAAIxM,kBACvBP,SAAU+M,EAAI/M,SACdE,aAAc6M,EAAI7M,cAEpBoN,GAAI,CACFS,SAAU,SAASL,GACjBA,EAAOtH,mBAGXyI,YAAa9B,EAAI+B,GAAG,CAClB,CACE9U,IAAK,QACL+U,GAAI,SAASnB,GACX,IAAInJ,EAAOmJ,EAAInJ,KACf,MAAO,CACLsI,EAAI0B,GAAG,QAAS,CAAC1B,EAAIiB,GAAGjB,EAAI4B,GAAGlK,EAAKC,SAAU,CAC5CD,KAAMA,OAKd,CACEzK,IAAK,SACL+U,GAAI,SAASnB,GACX,IAAInJ,EAAOmJ,EAAInJ,KACf,MAAO,CACLsI,EAAI0B,GACF,SACA,CACEvB,EAAG,OAAQ,CACTH,EAAIiB,GACF,kBACEjB,EAAI4B,GACDlK,EAAKE,OAIF,GAHAF,EAAKH,WACH,IACA,KAGR,mBAIR,CAAEG,KAAMA,OAKhB,CACEzK,IAAK,UACL+U,GAAI,SAASnB,GACX,IAAInJ,EAAOmJ,EAAInJ,KACf,MAAO,CAACsI,EAAI0B,GAAG,UAAW,KAAM,CAAEhK,KAAMA,OAG5C,CACEzK,IAAK,aACL+U,GAAI,SAASnB,GACX,IAAInJ,EAAOmJ,EAAInJ,KACf,MAAO,EACJA,EAAKE,QACkB,GAAxBF,EAAKvB,SAASlE,QACdyF,EAAKH,WACDyI,EAAI0B,GAAG,aAAc,KAAM,CAAEhK,KAAMA,IACnCsI,EAAI2B,YAMlB3B,EAAI2B,KACR3B,EAAIiB,GAAG,KACPd,EAAG,MAAO,CACRE,YAAa,8CACbnF,MAAO,CACL6F,WACEf,EAAIrK,gBACJqK,EAAIrK,eAAe+B,KAAKI,UAAYJ,EAAKI,SACR,UAAjCkI,EAAIrK,eAAe4F,UACf,UACA,SACN,UAAWyE,EAAInK,OAEjB0K,GAAI,CACFS,SAAU,SAASL,GACjBA,EAAOtH,sBAKf,MAGJ2G,EAAIiB,GAAG,KACPjB,EAAI9K,OACAiL,EACE,MACA,CACE8B,WAAY,CACV,CACEhW,KAAM,OACNiW,QAAS,SACTvV,MAAOqT,EAAIrL,WACXwN,WAAY,eAGhBtB,IAAK,WACLR,YAAa,yBAEf,CACEL,EAAI0B,GAAG,WAAY,CACjB1B,EAAIiB,GACF,oBACEjB,EAAI4B,GAAG5B,EAAI3J,eACX,eAIR,GAEF2J,EAAI2B,MAEV,MAMR5B,EAAOqC,eAAgB,ECzUvB,IAcIC,ECRW,SACbC,EACAvC,EACAwC,EACAC,EACAC,EACAC,EACAC,EACAC,GAKA,IAAIlV,SAHJ4U,EAAgBA,GAAiB,IAGDtP,QACnB,WAATtF,GAA8B,aAATA,IACvB4U,EAAgBA,EAActP,SAIhC,IAqBI6P,EArBA9U,EAAmC,mBAAlBuU,EACjBA,EAAcvU,QACduU,EAiDJ,GA9CIvC,IACFhS,EAAQgS,OAASA,EACjBhS,EAAQwU,gBAAkBA,EAC1BxU,EAAQ+U,WAAY,GAIlBN,IACFzU,EAAQgV,YAAa,GAInBL,IACF3U,EAAQiV,SAAWN,GAIjBC,GACFE,EAAO,SAAUI,IAEfA,EACEA,GACC1S,KAAK2S,QAAU3S,KAAK2S,OAAOC,YAC3B5S,KAAK6S,QAAU7S,KAAK6S,OAAOF,QAAU3S,KAAK6S,OAAOF,OAAOC,aAEZ,oBAAxBE,sBACrBJ,EAAUI,qBAGRZ,GACFA,EAAa5W,KAAK0E,KAAM0S,GAGtBA,GAAWA,EAAQK,uBACrBL,EAAQK,sBAAsBC,IAAIZ,IAKtC5U,EAAQyV,aAAeX,GACdJ,IACTI,EAAOD,EACH,WAAcH,EAAa5W,KAAK0E,KAAMA,KAAKiK,MAAMiJ,SAASC,aAC1DjB,GAGFI,EACF,GAAI9U,EAAQgV,WAAY,CAGtBhV,EAAQ4V,cAAgBd,EAExB,IAAIe,EAAiB7V,EAAQgS,OAC7BhS,EAAQgS,OAAS,SAAmC8D,EAAGZ,GAErD,OADAJ,EAAKhX,KAAKoX,GACHW,EAAeC,EAAGZ,QAEtB,CAEL,IAAIa,EAAW/V,EAAQgW,aACvBhW,EAAQgW,aAAeD,EACnB,GAAG5M,OAAO4M,EAAUjB,GACpB,CAACA,GAIT,MAAO,CACL3X,QAASoX,EACTvU,QAASA,GDpFGiW,CACd,EACA,EDwToB,IClUY,EAEb,KAEC,KAEU,MAWhC3B,EAAUtU,QAAQkW,OAAS,sBAkBZ,UAAA5B,EAAiB,W","file":"sl-vue-tree.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SlVueTree\"] = factory();\n\telse\n\t\troot[\"SlVueTree\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","import throttle from \"lodash/throttle\";\n\nexport default {\n  name: \"sl-vue-tree\",\n  props: {\n    value: {\n      type: Array,\n      default: () => [],\n    },\n    edgeSize: {\n      type: Number,\n      default: 3,\n    },\n    showBranches: {\n      type: Boolean,\n      default: false,\n    },\n    level: {\n      type: Number,\n      default: 0,\n    },\n    parentInd: {\n      type: Number,\n    },\n    allowMultiselect: {\n      type: Boolean,\n      default: true,\n    },\n    allowToggleBranch: {\n      type: Boolean,\n      default: true,\n    },\n    allowExternalDrag: {\n      type: Boolean,\n      default: true,\n    },\n    multiselectKey: {\n      type: [String, Array],\n      default: function() {\n        return [\"ctrlKey\", \"metaKey\"];\n      },\n      validator: function(value) {\n        let allowedKeys = [\"ctrlKey\", \"metaKey\", \"altKey\"];\n        let multiselectKeys = Array.isArray(value) ? value : [value];\n        multiselectKeys = multiselectKeys.filter(\n          (keyName) => allowedKeys.indexOf(keyName) !== -1\n        );\n        return !!multiselectKeys.length;\n      },\n    },\n    scrollAreaHeight: {\n      type: Number,\n      default: 70,\n    },\n    maxScrollSpeed: {\n      type: Number,\n      default: 20,\n    },\n  },\n\n  data() {\n    return {\n      rootCursorPosition: null,\n      scrollIntervalId: 0,\n      scrollSpeed: 0,\n      lastSelectedNode: null,\n      mouseIsDown: false,\n      isDragging: false,\n      lastMousePos: { x: 0, y: 0 },\n      preventDrag: false,\n      currentValue: this.value,\n    };\n  },\n\n  mounted() {\n    if (this.isRoot) {\n      document.addEventListener(\"mouseup\", this.onDocumentMouseupHandler);\n    }\n  },\n\n  beforeDestroy() {\n    document.removeEventListener(\"mouseup\", this.onDocumentMouseupHandler);\n  },\n\n  watch: {\n    value: function(newValue) {\n      this.currentValue = newValue;\n    },\n  },\n\n  computed: {\n    cursorPosition() {\n      if (this.isRoot) return this.rootCursorPosition;\n      return this.getParent().cursorPosition;\n    },\n\n    depth() {\n      return this.gaps.length;\n    },\n\n    nodes() {\n      if (this.isRoot) {\n        const nodeModels = this.copy(this.currentValue);\n        return this.getNodes(nodeModels);\n      }\n\n      return this.getParent().nodes[this.parentInd].children;\n    },\n    /**\n     * gaps is using for nodes indentation\n     * @returns {number[]}\n     */\n    gaps() {\n      const gaps = [];\n      let i = this.level - 1;\n      if (!this.showBranches) i++;\n      while (i-- > 0) gaps.push(i);\n      return gaps;\n    },\n\n    isRoot() {\n      return !this.level;\n    },\n\n    selectionSize() {\n      return this.getSelected().length;\n    },\n\n    dragSize() {\n      return this.getDraggable().length;\n    },\n  },\n  methods: {\n    setCursorPosition(pos) {\n      if (this.isRoot) {\n        this.rootCursorPosition = pos;\n        return;\n      }\n      this.getParent().setCursorPosition(pos);\n    },\n\n    getNodes(nodeModels, parentPath = [], isVisible = true) {\n      return nodeModels.map((nodeModel, ind) => {\n        const nodePath = parentPath.concat(ind);\n        return this.getNode(nodePath, nodeModel, nodeModels, isVisible);\n      });\n    },\n\n    getNode(path, nodeModel = null, siblings = null, isVisible = null) {\n      const ind = path.slice(-1)[0];\n\n      // calculate nodeModel, siblings, isVisible fields if it is not passed as arguments\n      siblings = siblings || this.getNodeSiblings(this.currentValue, path);\n      nodeModel = nodeModel || (siblings && siblings[ind]) || null;\n\n      if (isVisible == null) {\n        isVisible = this.isVisible(path);\n      }\n\n      if (!nodeModel) return null;\n\n      const isExpanded =\n        nodeModel.isExpanded == void 0 ? true : !!nodeModel.isExpanded;\n      const isDraggable =\n        nodeModel.isDraggable == void 0 ? true : !!nodeModel.isDraggable;\n      const isSelectable =\n        nodeModel.isSelectable == void 0 ? true : !!nodeModel.isSelectable;\n\n      const node = {\n        // define the all ISlTreeNodeModel props\n        title: nodeModel.title,\n        isLeaf: !!nodeModel.isLeaf,\n        children: nodeModel.children\n          ? this.getNodes(nodeModel.children, path, isExpanded)\n          : [],\n        isSelected: !!nodeModel.isSelected,\n        isExpanded,\n        isVisible,\n        isDraggable,\n        isSelectable,\n        data: nodeModel.data !== void 0 ? nodeModel.data : {},\n\n        // define the all ISlTreeNode computed props\n        path: path,\n        pathStr: JSON.stringify(path),\n        level: path.length,\n        ind,\n        isFirstChild: ind == 0,\n        isLastChild: ind === siblings.length - 1,\n      };\n      return node;\n    },\n\n    isVisible(path) {\n      if (path.length < 2) return true;\n      let nodeModels = this.currentValue;\n\n      for (let i = 0; i < path.length - 1; i++) {\n        let ind = path[i];\n        let nodeModel = nodeModels[ind];\n        let isExpanded =\n          nodeModel.isExpanded == void 0 ? true : !!nodeModel.isExpanded;\n        if (!isExpanded) return false;\n        nodeModels = nodeModel.children;\n      }\n\n      return true;\n    },\n\n    emitInput(newValue) {\n      this.currentValue = newValue;\n      this.getRoot().$emit(\"input\", newValue);\n    },\n\n    emitSelect(selectedNodes, event) {\n      this.getRoot().$emit(\"select\", selectedNodes, event);\n    },\n\n    emitBeforeDrop(draggingNodes, position, cancel) {\n      this.getRoot().$emit(\"beforedrop\", draggingNodes, position, cancel);\n    },\n\n    emitDrop(draggingNodes, position, event) {\n      this.getRoot().$emit(\"drop\", draggingNodes, position, event);\n    },\n\n    emitToggle(toggledNode, event) {\n      this.getRoot().$emit(\"toggle\", toggledNode, event);\n    },\n\n    emitNodeClick(node, event) {\n      this.getRoot().$emit(\"nodeclick\", node, event);\n    },\n\n    emitNodeDblclick(node, event) {\n      this.getRoot().$emit(\"nodedblclick\", node, event);\n    },\n\n    emitNodeContextmenu(node, event) {\n      this.getRoot().$emit(\"nodecontextmenu\", node, event);\n    },\n\n    onExternalDragoverHandlerThrottled: throttle(function(node, event) {\n      this.onExternalDragoverHandler(node, event);\n    }, 75),\n\n    onExternalDragoverHandler(node, event) {\n      event.preventDefault();\n      const root = this.getRoot();\n      if (!root.allowExternalDrag) {\n        return;\n      }\n      const cursorPosition = root.getCursorPositionFromCoords(\n        event.clientX,\n        event.clientY\n      );\n      root.setCursorPosition(cursorPosition);\n      root.$emit(\"externaldragover\", cursorPosition, event);\n    },\n\n    onExternalDropHandler(node, event) {\n      const root = this.getRoot();\n      const cursorPosition = root.getCursorPositionFromCoords(\n        event.clientX,\n        event.clientY\n      );\n      root.$emit(\"externaldrop\", cursorPosition, event);\n      this.setCursorPosition(null);\n    },\n\n    select(path, addToSelection = false, event = null) {\n      const multiselectKeys = Array.isArray(this.multiselectKey)\n        ? this.multiselectKey\n        : [this.multiselectKey];\n      const multiselectKeyIsPressed =\n        event && !!multiselectKeys.find((key) => event[key]);\n      addToSelection =\n        (multiselectKeyIsPressed || addToSelection) && this.allowMultiselect;\n\n      const selectedNode = this.getNode(path);\n      if (!selectedNode) return null;\n      const newNodes = this.copy(this.currentValue);\n      const shiftSelectionMode =\n        this.allowMultiselect &&\n        event &&\n        event.shiftKey &&\n        this.lastSelectedNode;\n      const selectedNodes = [];\n      let shiftSelectionStarted = false;\n\n      this.traverse((node, nodeModel) => {\n        if (shiftSelectionMode) {\n          if (\n            node.pathStr === selectedNode.pathStr ||\n            node.pathStr === this.lastSelectedNode.pathStr\n          ) {\n            nodeModel.isSelected = node.isSelectable;\n            shiftSelectionStarted = !shiftSelectionStarted;\n          }\n          if (shiftSelectionStarted) nodeModel.isSelected = node.isSelectable;\n        } else if (node.pathStr === selectedNode.pathStr) {\n          nodeModel.isSelected = node.isSelectable;\n        } else if (!addToSelection) {\n          if (nodeModel.isSelected) nodeModel.isSelected = false;\n        }\n\n        if (nodeModel.isSelected) selectedNodes.push(node);\n      }, newNodes);\n\n      this.lastSelectedNode = selectedNode;\n      this.emitInput(newNodes);\n      this.emitSelect(selectedNodes, event);\n      return selectedNode;\n    },\n\n    onMousemoveHandlerThrottled: throttle(function(event) {\n      this.onMousemoveHandler(event);\n    }, 75),\n\n    onMousemoveHandler(event) {\n      if (!this.isRoot) {\n        this.getRoot().onMousemoveHandler(event);\n        return;\n      }\n\n      if (this.preventDrag) return;\n\n      const initialDraggingState = this.isDragging;\n      const isDragging =\n        this.isDragging ||\n        (this.mouseIsDown &&\n          (this.lastMousePos.x !== event.clientX ||\n            this.lastMousePos.y !== event.clientY));\n\n      const isDragStarted =\n        initialDraggingState === false && isDragging === true;\n\n      this.lastMousePos = {\n        x: event.clientX,\n        y: event.clientY,\n      };\n\n      if (!isDragging) return;\n\n      const $root = this.getRoot().$el;\n      const rootRect = $root.getBoundingClientRect();\n      const $dragInfo = this.$refs.dragInfo;\n      const dragInfoTop =\n        event.clientY -\n        rootRect.top +\n        $root.scrollTop -\n        ($dragInfo.style.marginBottom | 0);\n      const dragInfoLeft = event.clientX - rootRect.left;\n\n      $dragInfo.style.top = dragInfoTop + \"px\";\n      $dragInfo.style.left = dragInfoLeft + \"px\";\n\n      const cursorPosition = this.getCursorPositionFromCoords(\n        event.clientX,\n        event.clientY\n      );\n      const destNode = cursorPosition.node;\n      const placement = cursorPosition.placement;\n\n      if (isDragStarted && !destNode.isSelected) {\n        this.select(destNode.path, false, event);\n      }\n\n      const draggableNodes = this.getDraggable();\n      if (!draggableNodes.length) {\n        this.preventDrag = true;\n        return;\n      }\n\n      this.isDragging = isDragging;\n\n      this.setCursorPosition({ node: destNode, placement });\n\n      const scrollBottomLine = rootRect.bottom - this.scrollAreaHeight;\n      const scrollDownSpeed =\n        (event.clientY - scrollBottomLine) /\n        (rootRect.bottom - scrollBottomLine);\n      const scrollTopLine = rootRect.top + this.scrollAreaHeight;\n      const scrollTopSpeed =\n        (scrollTopLine - event.clientY) / (scrollTopLine - rootRect.top);\n\n      if (scrollDownSpeed > 0) {\n        this.startScroll(scrollDownSpeed);\n      } else if (scrollTopSpeed > 0) {\n        this.startScroll(-scrollTopSpeed);\n      } else {\n        this.stopScroll();\n      }\n    },\n\n    getCursorPositionFromCoords(x, y) {\n      const $target = document.elementFromPoint(x, y);\n      const $nodeItem = $target.getAttribute(\"path\")\n        ? $target\n        : this.getClosetElementWithPath($target);\n      let destNode;\n      let placement;\n\n      if ($nodeItem) {\n        if (!$nodeItem) return;\n\n        destNode = this.getNode(JSON.parse($nodeItem.getAttribute(\"path\")));\n\n        const nodeHeight = $nodeItem.offsetHeight;\n        const edgeSize = this.edgeSize;\n        const offsetY = y - $nodeItem.getBoundingClientRect().top;\n\n        if (destNode.isLeaf) {\n          placement = offsetY >= nodeHeight / 2 ? \"after\" : \"before\";\n        } else {\n          if (offsetY <= edgeSize) {\n            placement = \"before\";\n          } else if (offsetY >= nodeHeight - edgeSize) {\n            placement = \"after\";\n          } else {\n            placement = \"inside\";\n          }\n        }\n      } else {\n        const $root = this.getRoot().$el;\n        const rootRect = $root.getBoundingClientRect();\n        if (y > rootRect.top + rootRect.height / 2) {\n          placement = \"after\";\n          destNode = this.getLastNode();\n        } else {\n          placement = \"before\";\n          destNode = this.getFirstNode();\n        }\n      }\n\n      return { node: destNode, placement };\n    },\n\n    getClosetElementWithPath($el) {\n      if (!$el) return null;\n      if ($el.getAttribute(\"path\")) return $el;\n      return this.getClosetElementWithPath($el.parentElement);\n    },\n\n    onMouseleaveHandler(event) {\n      if (!this.isRoot || !this.isDragging) return;\n      const $root = this.getRoot().$el;\n      const rootRect = $root.getBoundingClientRect();\n      if (event.clientY >= rootRect.bottom) {\n        this.setCursorPosition({\n          node: this.nodes.slice(-1)[0],\n          placement: \"after\",\n        });\n      } else if (event.clientY < rootRect.top) {\n        this.setCursorPosition({\n          node: this.getFirstNode(),\n          placement: \"before\",\n        });\n      }\n    },\n\n    getNodeEl(path) {\n      this.getRoot().$el.querySelector(`[path=\"${JSON.stringify(path)}\"]`);\n    },\n\n    getLastNode() {\n      let lastNode = null;\n      this.traverse((node) => {\n        lastNode = node;\n      });\n      return lastNode;\n    },\n\n    getFirstNode() {\n      return this.getNode([0]);\n    },\n\n    getNextNode(path, filter = null) {\n      let resultNode = null;\n\n      this.traverse((node) => {\n        if (this.comparePaths(node.path, path) < 1) return;\n\n        if (!filter || filter(node)) {\n          resultNode = node;\n          return false; // stop traverse\n        }\n      });\n\n      return resultNode;\n    },\n\n    getPrevNode(path, filter) {\n      let prevNodes = [];\n\n      this.traverse((node) => {\n        if (this.comparePaths(node.path, path) >= 0) {\n          return false;\n        }\n        prevNodes.push(node);\n      });\n\n      let i = prevNodes.length;\n      while (i--) {\n        const node = prevNodes[i];\n        if (!filter || filter(node)) return node;\n      }\n\n      return null;\n    },\n\n    /**\n     * returns 1 if path1 > path2\n     * returns -1 if path1 < path2\n     * returns 0 if path1 == path2\n     *\n     * examples\n     *\n     * [1, 2, 3] < [1, 2, 4]\n     * [1, 1, 3] < [1, 2, 3]\n     * [1, 2, 3] > [1, 2, 0]\n     * [1, 2, 3] > [1, 1, 3]\n     * [1, 2] < [1, 2, 0]\n     *\n     */\n    comparePaths(path1, path2) {\n      for (let i = 0; i < path1.length; i++) {\n        if (path2[i] == void 0) return 1;\n        if (path1[i] > path2[i]) return 1;\n        if (path1[i] < path2[i]) return -1;\n      }\n      return path2[path1.length] == void 0 ? 0 : -1;\n    },\n\n    onNodeMousedownHandler(event, node) {\n      // handle only left mouse button\n      if (event.button !== 0) return;\n\n      if (!this.isRoot) {\n        this.getRoot().onNodeMousedownHandler(event, node);\n        return;\n      }\n      this.mouseIsDown = true;\n    },\n\n    startScroll(speed) {\n      const $root = this.getRoot().$el;\n      if (this.scrollSpeed === speed) {\n        return;\n      } else if (this.scrollIntervalId) {\n        this.stopScroll();\n      }\n\n      this.scrollSpeed = speed;\n      this.scrollIntervalId = setInterval(() => {\n        $root.scrollTop += this.maxScrollSpeed * speed;\n      }, 20);\n    },\n\n    stopScroll() {\n      clearInterval(this.scrollIntervalId);\n      this.scrollIntervalId = 0;\n      this.scrollSpeed = 0;\n    },\n\n    onDocumentMouseupHandler(event) {\n      if (this.isDragging) this.onNodeMouseupHandler(event);\n    },\n\n    onNodeMouseupHandler(event, targetNode = null) {\n      // handle only left mouse button\n      if (event.button !== 0) return;\n\n      if (!this.isRoot) {\n        this.getRoot().onNodeMouseupHandler(event, targetNode);\n        return;\n      }\n\n      this.mouseIsDown = false;\n\n      if (!this.isDragging && targetNode && !this.preventDrag) {\n        this.select(targetNode.path, false, event);\n      }\n\n      this.preventDrag = false;\n\n      if (!this.cursorPosition) {\n        this.stopDrag();\n        return;\n      }\n\n      const draggingNodes = this.getDraggable();\n\n      // check that nodes is possible to insert\n      for (let draggingNode of draggingNodes) {\n        if (draggingNode.pathStr == this.cursorPosition.node.pathStr) {\n          this.stopDrag();\n          return;\n        }\n\n        if (this.checkNodeIsParent(draggingNode, this.cursorPosition.node)) {\n          this.stopDrag();\n          return;\n        }\n      }\n\n      const newNodes = this.copy(this.currentValue);\n      const nodeModelsSubjectToInsert = [];\n\n      // find dragging model to delete\n      for (let draggingNode of draggingNodes) {\n        const sourceSiblings = this.getNodeSiblings(\n          newNodes,\n          draggingNode.path\n        );\n        const draggingNodeModel = sourceSiblings[draggingNode.ind];\n        nodeModelsSubjectToInsert.push(draggingNodeModel);\n      }\n\n      // allow the drop to be cancelled\n      let cancelled = false;\n      this.emitBeforeDrop(\n        draggingNodes,\n        this.cursorPosition,\n        () => (cancelled = true)\n      );\n\n      if (cancelled) {\n        this.stopDrag();\n        return;\n      }\n\n      const nodeModelsToInsert = [];\n\n      // mark dragging model to delete\n      for (let draggingNodeModel of nodeModelsSubjectToInsert) {\n        nodeModelsToInsert.push(this.copy(draggingNodeModel));\n        draggingNodeModel[\"_markToDelete\"] = true;\n      }\n\n      // insert dragging nodes to the new place\n      this.insertModels(this.cursorPosition, nodeModelsToInsert, newNodes);\n\n      // delete dragging node from the old place\n      this.traverseModels((nodeModel, siblings, ind) => {\n        if (!nodeModel._markToDelete) return;\n        siblings.splice(ind, 1);\n      }, newNodes);\n\n      this.lastSelectedNode = null;\n      this.emitInput(newNodes);\n      this.emitDrop(draggingNodes, this.cursorPosition, event);\n      this.stopDrag();\n    },\n\n    onToggleHandler(event, node) {\n      if (!this.allowToggleBranch) return;\n\n      this.updateNode(node.path, { isExpanded: !node.isExpanded });\n      this.emitToggle(node, event);\n      event.stopPropagation();\n    },\n\n    stopDrag() {\n      this.isDragging = false;\n      this.mouseIsDown = false;\n      this.setCursorPosition(null);\n      this.stopScroll();\n    },\n\n    getParent() {\n      return this.$parent;\n    },\n\n    getRoot() {\n      if (this.isRoot) return this;\n      return this.getParent().getRoot();\n    },\n\n    getNodeSiblings(nodes, path) {\n      if (path.length === 1) return nodes;\n      return this.getNodeSiblings(nodes[path[0]].children, path.slice(1));\n    },\n\n    updateNode(path, patch) {\n      if (!this.isRoot) {\n        this.getParent().updateNode(path, patch);\n        return;\n      }\n\n      const pathStr = JSON.stringify(path);\n      const newNodes = this.copy(this.currentValue);\n      this.traverse((node, nodeModel) => {\n        if (node.pathStr !== pathStr) return;\n        Object.assign(nodeModel, patch);\n      }, newNodes);\n\n      this.emitInput(newNodes);\n    },\n\n    getSelected() {\n      const selectedNodes = [];\n      this.traverse((node) => {\n        if (node.isSelected) selectedNodes.push(node);\n      });\n      return selectedNodes;\n    },\n\n    getDraggable() {\n      const selectedNodes = [];\n      this.traverse((node) => {\n        if (node.isSelected && node.isDraggable) selectedNodes.push(node);\n      });\n      return selectedNodes;\n    },\n\n    traverse(cb, nodeModels = null, parentPath = []) {\n      if (!nodeModels) nodeModels = this.currentValue;\n\n      let shouldStop = false;\n\n      const nodes = [];\n\n      for (let nodeInd = 0; nodeInd < nodeModels.length; nodeInd++) {\n        const nodeModel = nodeModels[nodeInd];\n        const itemPath = parentPath.concat(nodeInd);\n        const node = this.getNode(itemPath, nodeModel, nodeModels);\n        shouldStop = cb(node, nodeModel, nodeModels) === false;\n        nodes.push(node);\n\n        if (shouldStop) break;\n\n        if (nodeModel.children) {\n          shouldStop =\n            this.traverse(cb, nodeModel.children, itemPath) === false;\n          if (shouldStop) break;\n        }\n      }\n\n      return !shouldStop ? nodes : false;\n    },\n\n    traverseModels(cb, nodeModels) {\n      let i = nodeModels.length;\n      while (i--) {\n        const nodeModel = nodeModels[i];\n        if (nodeModel.children) this.traverseModels(cb, nodeModel.children);\n        cb(nodeModel, nodeModels, i);\n      }\n      return nodeModels;\n    },\n\n    remove(paths) {\n      const pathsStr = paths.map((path) => JSON.stringify(path));\n      const newNodes = this.copy(this.currentValue);\n      this.traverse((node, nodeModel, siblings) => {\n        for (const pathStr of pathsStr) {\n          if (node.pathStr === pathStr) nodeModel._markToDelete = true;\n        }\n      }, newNodes);\n\n      this.traverseModels((nodeModel, siblings, ind) => {\n        if (!nodeModel._markToDelete) return;\n        siblings.splice(ind, 1);\n      }, newNodes);\n\n      this.emitInput(newNodes);\n    },\n\n    insertModels(cursorPosition, nodeModels, newNodes) {\n      const destNode = cursorPosition.node;\n      const destSiblings = this.getNodeSiblings(newNodes, destNode.path);\n      const destNodeModel = destSiblings[destNode.ind];\n\n      if (cursorPosition.placement === \"inside\") {\n        destNodeModel.children = destNodeModel.children || [];\n        destNodeModel.children.unshift(...nodeModels);\n      } else {\n        const insertInd =\n          cursorPosition.placement === \"before\"\n            ? destNode.ind\n            : destNode.ind + 1;\n\n        destSiblings.splice(insertInd, 0, ...nodeModels);\n      }\n    },\n\n    insert(cursorPosition, nodeModel) {\n      const nodeModels = Array.isArray(nodeModel) ? nodeModel : [nodeModel];\n      const newNodes = this.copy(this.currentValue);\n\n      this.insertModels(cursorPosition, nodeModels, newNodes);\n\n      this.emitInput(newNodes);\n    },\n\n    checkNodeIsParent(sourceNode, destNode) {\n      const destPath = destNode.path;\n      return (\n        JSON.stringify(destPath.slice(0, sourceNode.path.length)) ==\n        sourceNode.pathStr\n      );\n    },\n\n    copy(entity) {\n      return JSON.parse(JSON.stringify(entity));\n    },\n  },\n};\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"sl-vue-tree\",\n      class: { \"sl-vue-tree-root\": _vm.isRoot },\n      on: {\n        mousemove: _vm.onMousemoveHandlerThrottled,\n        mouseleave: _vm.onMouseleaveHandler,\n        dragend: function($event) {\n          _vm.onDragendHandler(null, $event)\n        }\n      }\n    },\n    [\n      _c(\n        \"div\",\n        { ref: \"nodes\", staticClass: \"sl-vue-tree-nodes-list\" },\n        [\n          _vm._l(_vm.nodes, function(node, nodeInd) {\n            return _c(\n              \"div\",\n              {\n                staticClass: \"sl-vue-tree-node\",\n                class: { \"sl-vue-tree-selected\": node.isSelected }\n              },\n              [\n                _c(\"div\", {\n                  staticClass: \"sl-vue-tree-cursor sl-vue-tree-cursor_before\",\n                  style: {\n                    visibility:\n                      _vm.cursorPosition &&\n                      _vm.cursorPosition.node.pathStr === node.pathStr &&\n                      _vm.cursorPosition.placement === \"before\"\n                        ? \"visible\"\n                        : \"hidden\",\n                    \"--depth\": _vm.depth\n                  },\n                  on: {\n                    dragover: function($event) {\n                      $event.preventDefault()\n                    }\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  {\n                    staticClass: \"sl-vue-tree-node-item\",\n                    class: {\n                      \"sl-vue-tree-cursor-hover\":\n                        _vm.cursorPosition &&\n                        _vm.cursorPosition.node.pathStr === node.pathStr,\n\n                      \"sl-vue-tree-cursor-inside\":\n                        _vm.cursorPosition &&\n                        _vm.cursorPosition.placement === \"inside\" &&\n                        _vm.cursorPosition.node.pathStr === node.pathStr,\n                      \"sl-vue-tree-node-is-leaf\": node.isLeaf,\n                      \"sl-vue-tree-node-is-folder\": !node.isLeaf\n                    },\n                    attrs: { path: node.pathStr },\n                    on: {\n                      mousedown: function($event) {\n                        _vm.onNodeMousedownHandler($event, node)\n                      },\n                      mouseup: function($event) {\n                        _vm.onNodeMouseupHandler($event, node)\n                      },\n                      contextmenu: function($event) {\n                        _vm.emitNodeContextmenu(node, $event)\n                      },\n                      dblclick: function($event) {\n                        _vm.emitNodeDblclick(node, $event)\n                      },\n                      click: function($event) {\n                        _vm.emitNodeClick(node, $event)\n                      },\n                      dragover: function($event) {\n                        _vm.onExternalDragoverHandlerThrottled(node, $event)\n                      },\n                      drop: function($event) {\n                        _vm.onExternalDropHandler(node, $event)\n                      }\n                    }\n                  },\n                  [\n                    _vm._l(_vm.gaps, function(gapInd) {\n                      return _c(\"div\", { staticClass: \"sl-vue-tree-gap\" })\n                    }),\n                    _vm._v(\" \"),\n                    _vm.level && _vm.showBranches\n                      ? _c(\n                          \"div\",\n                          { staticClass: \"sl-vue-tree-branch\" },\n                          [\n                            _vm._t(\n                              \"branch\",\n                              [\n                                !node.isLastChild\n                                  ? _c(\"span\", [\n                                      _vm._v(\n                                        \"\\n            \" +\n                                          _vm._s(String.fromCharCode(0x251c)) +\n                                          _vm._s(String.fromCharCode(0x2500)) +\n                                          \"\\n          \"\n                                      )\n                                    ])\n                                  : _vm._e(),\n                                _vm._v(\" \"),\n                                node.isLastChild\n                                  ? _c(\"span\", [\n                                      _vm._v(\n                                        \"\\n            \" +\n                                          _vm._s(String.fromCharCode(0x2514)) +\n                                          _vm._s(String.fromCharCode(0x2500)) +\n                                          \"\\n          \"\n                                      )\n                                    ])\n                                  : _vm._e()\n                              ],\n                              { node: node }\n                            )\n                          ],\n                          2\n                        )\n                      : _vm._e(),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      { staticClass: \"sl-vue-tree-title\" },\n                      [\n                        !node.isLeaf\n                          ? _c(\n                              \"span\",\n                              {\n                                staticClass: \"sl-vue-tree-toggle\",\n                                on: {\n                                  click: function($event) {\n                                    _vm.onToggleHandler($event, node)\n                                  }\n                                }\n                              },\n                              [\n                                _vm._t(\n                                  \"toggle\",\n                                  [\n                                    _c(\"span\", [\n                                      _vm._v(\n                                        \"\\n             \" +\n                                          _vm._s(\n                                            !node.isLeaf\n                                              ? node.isExpanded\n                                                ? \"-\"\n                                                : \"+\"\n                                              : \"\"\n                                          ) +\n                                          \"\\n            \"\n                                      )\n                                    ])\n                                  ],\n                                  { node: node }\n                                )\n                              ],\n                              2\n                            )\n                          : _vm._e(),\n                        _vm._v(\" \"),\n                        _vm._t(\"title\", [_vm._v(_vm._s(node.title))], {\n                          node: node\n                        }),\n                        _vm._v(\" \"),\n                        !node.isLeaf &&\n                        node.children.length == 0 &&\n                        node.isExpanded\n                          ? _vm._t(\"empty-node\", null, { node: node })\n                          : _vm._e()\n                      ],\n                      2\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      { staticClass: \"sl-vue-tree-sidebar\" },\n                      [_vm._t(\"sidebar\", null, { node: node })],\n                      2\n                    )\n                  ],\n                  2\n                ),\n                _vm._v(\" \"),\n                node.children && node.children.length && node.isExpanded\n                  ? _c(\"sl-vue-tree\", {\n                      attrs: {\n                        value: node.children,\n                        level: node.level,\n                        parentInd: nodeInd,\n                        allowMultiselect: _vm.allowMultiselect,\n                        allowToggleBranch: _vm.allowToggleBranch,\n                        edgeSize: _vm.edgeSize,\n                        showBranches: _vm.showBranches\n                      },\n                      on: {\n                        dragover: function($event) {\n                          $event.preventDefault()\n                        }\n                      },\n                      scopedSlots: _vm._u([\n                        {\n                          key: \"title\",\n                          fn: function(ref) {\n                            var node = ref.node\n                            return [\n                              _vm._t(\"title\", [_vm._v(_vm._s(node.title))], {\n                                node: node\n                              })\n                            ]\n                          }\n                        },\n                        {\n                          key: \"toggle\",\n                          fn: function(ref) {\n                            var node = ref.node\n                            return [\n                              _vm._t(\n                                \"toggle\",\n                                [\n                                  _c(\"span\", [\n                                    _vm._v(\n                                      \"\\n             \" +\n                                        _vm._s(\n                                          !node.isLeaf\n                                            ? node.isExpanded\n                                              ? \"-\"\n                                              : \"+\"\n                                            : \"\"\n                                        ) +\n                                        \"\\n          \"\n                                    )\n                                  ])\n                                ],\n                                { node: node }\n                              )\n                            ]\n                          }\n                        },\n                        {\n                          key: \"sidebar\",\n                          fn: function(ref) {\n                            var node = ref.node\n                            return [_vm._t(\"sidebar\", null, { node: node })]\n                          }\n                        },\n                        {\n                          key: \"empty-node\",\n                          fn: function(ref) {\n                            var node = ref.node\n                            return [\n                              !node.isLeaf &&\n                              node.children.length == 0 &&\n                              node.isExpanded\n                                ? _vm._t(\"empty-node\", null, { node: node })\n                                : _vm._e()\n                            ]\n                          }\n                        }\n                      ])\n                    })\n                  : _vm._e(),\n                _vm._v(\" \"),\n                _c(\"div\", {\n                  staticClass: \"sl-vue-tree-cursor sl-vue-tree-cursor_after\",\n                  style: {\n                    visibility:\n                      _vm.cursorPosition &&\n                      _vm.cursorPosition.node.pathStr === node.pathStr &&\n                      _vm.cursorPosition.placement === \"after\"\n                        ? \"visible\"\n                        : \"hidden\",\n                    \"--depth\": _vm.depth\n                  },\n                  on: {\n                    dragover: function($event) {\n                      $event.preventDefault()\n                    }\n                  }\n                })\n              ],\n              1\n            )\n          }),\n          _vm._v(\" \"),\n          _vm.isRoot\n            ? _c(\n                \"div\",\n                {\n                  directives: [\n                    {\n                      name: \"show\",\n                      rawName: \"v-show\",\n                      value: _vm.isDragging,\n                      expression: \"isDragging\"\n                    }\n                  ],\n                  ref: \"dragInfo\",\n                  staticClass: \"sl-vue-tree-drag-info\"\n                },\n                [\n                  _vm._t(\"draginfo\", [\n                    _vm._v(\n                      \"\\n        Items: \" +\n                        _vm._s(_vm.selectionSize) +\n                        \"\\n      \"\n                    )\n                  ])\n                ],\n                2\n              )\n            : _vm._e()\n        ],\n        2\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nexport { render, staticRenderFns }\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-539decb0\", { render: render, staticRenderFns: staticRenderFns })\n  }\n}","var disposed = false\n/* script */\nexport * from \"!!babel-loader!./sl-vue-tree.js\"\nimport __vue_script__ from \"!!babel-loader!./sl-vue-tree.js\"/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-539decb0\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./sl-vue-tree.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/sl-vue-tree.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-539decb0\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-539decb0\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  scriptExports = scriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof scriptExports.default\n  if (type === 'object' || type === 'function') {\n    scriptExports = scriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n"],"sourceRoot":""}